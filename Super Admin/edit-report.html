<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Detailed Physio Report</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body { background: #f8f9fa; }
    .dashboard-section { margin-left: 250px; padding: 40px; }
    .sidebar {
      width: 250px; position: fixed; height: 100vh;
      background-color: #343a40; color: white;
      display: flex; flex-direction: column;
    }
    .nav-link {
      color: rgb(233, 64, 64);
      transition: background 0.2s;
    }
    .nav-link:hover, .nav-link.active, .nav-link.bg-secondary {
      background-color: #e1e9f0 !important; color: black !important;
    }
    .logout-btn {
      color: #dc3545 !important;
      background: none; border:none; padding-left:0;
      padding-right:0; text-align:left; width:100%;
      font-weight:500; transition: background 0.2s, color 0.2s;
    }
    .logout-btn:hover {
      background: #b72d36 !important; color: white !important;
    }
    .next-button { margin-top: 20px; }
    @media (max-width: 900px) {
      .dashboard-section { margin-left: 0!important; padding: 20px!important;}
      .sidebar {
        position: static!important; height:auto!important; width:100%!important;
        flex-direction: row!important; justify-content: start;
      }
    }
  </style>
</head>
<body class="bg-light">
  <div class="d-flex">
    <div class="sidebar p-3">
      <h4 class="text-center mb-4 w-100">Centre</h4>
      <ul class="nav flex-column w-100">
        <li class="nav-item"><a href="physio-dashboard.html" class="nav-link">Dashboard</a></li>
        <li class="nav-item"><a href="edit-report.html" class="nav-link active bg-secondary">View/Edit Report</a></li>
        <li class="nav-item"><a href="transfer-patients.html" class="nav-link">Transfer Patients</a></li>
        <li class="nav-item"><button class="nav-link logout-btn" id="logoutBtn">
          <i class="fas fa-sign-out-alt me-2"></i>Logout</button></li>
      </ul>
    </div>
    <div class="dashboard-section container-fluid">
      <h3>Detailed Physio Report</h3>
      <ul class="nav nav-tabs my-4" id="reportTabs" role="tablist">
        <li class="nav-item"><button class="nav-link active" id="personal-tab" data-bs-toggle="tab" data-bs-target="#personal" type="button" tabindex="0">Demographic</button></li>
        <li class="nav-item"><button class="nav-link" id="assessment-tab" data-bs-toggle="tab" data-bs-target="#assessment" type="button" tabindex="-1">Assessment</button></li>
        <li class="nav-item"><button class="nav-link" id="examination-tab" data-bs-toggle="tab" data-bs-target="#examination" type="button" tabindex="-1">Examination</button></li>
        <li class="nav-item"><button class="nav-link" id="medical-tab" data-bs-toggle="tab" data-bs-target="#medical" type="button" tabindex="-1">Medical</button></li>
        <li class="nav-item"><button class="nav-link" id="treatment-tab" data-bs-toggle="tab" data-bs-target="#treatment" type="button" tabindex="-1">Treatment</button></li>
        <li class="nav-item"><button class="nav-link" id="progress-tab" data-bs-toggle="tab" data-bs-target="#progress" type="button" tabindex="-1">Progress</button></li>
      </ul>
      <div class="tab-content" id="reportTabContent">

        <!-- Personal tab -->
        <div class="tab-pane fade show active" id="personal" role="tabpanel" aria-labelledby="personal-tab">
          <div class="row">
            <div class="col-md-6 mb-3"><label>Full Name</label><input type="text" class="form-control" id="fullName"></div>
            <div class="col-md-3 mb-3"><label>Age</label><input type="number" class="form-control" id="age"></div>
            <div class="col-md-3 mb-3"><label>Gender</label>
              <select class="form-control" id="gender">
                <option>Male</option><option>Female</option><option>Other</option>
              </select>
            </div>
            <div class="col-md-6 mb-3"><label>Primary Sport</label><input type="text" class="form-control" id="sport"></div>
            <div class="col-md-6 mb-3"><label>Level of Play</label>
              <select class="form-control" id="playLevel">
                <option>Recreational</option><option>College</option><option>State</option><option>National</option><option>Professional</option>
              </select>
            </div>
          </div>
          <button class="btn btn-primary next-button">Next</button>
        </div>

        <!-- Assessment tab -->
        <div class="tab-pane fade" id="assessment" role="tabpanel" aria-labelledby="assessment-tab">
          <div class="mb-3"><label>Chief Complaints</label><textarea class="form-control" id="complaints" rows="2"></textarea></div>
          <div class="mb-3"><label>Present Injury History</label><textarea class="form-control" id="presentHistory" rows="2"></textarea></div>
          <div class="mb-3"><label>Past Injury History</label><textarea class="form-control" id="pastHistory" rows="2"></textarea></div>
          <div class="mb-3"><label>Medical History</label>
            <div>
              <input type="checkbox" id="med_xray"> X RAYS
              <input type="checkbox" id="med_mri"> MRI
              <input type="checkbox" id="med_report"> Reports
              <input type="checkbox" id="med_ct"> CT Scans
              <input type="file" id="medUpload" multiple accept="image/*,.pdf" style="display:block; margin-top:8px;">
            </div>
          </div>
          <div class="mb-3"><label>Surgical History</label><textarea class="form-control" id="surgicalHistory" rows="2"></textarea></div>
          <div class="mb-3">
            <label>Personal History</label><br/>
            <input type="checkbox" id="per_smoking"> Smoking 
            <input type="checkbox" id="per_drinking"> Drinking 
            <input type="checkbox" id="per_alcohol"> Alcohol 
            <input type="checkbox" id="per_drugs" onchange="document.getElementById('drugsText').style.display=this.checked?'inline-block':'none';">
            Drugs <input id="drugsText" type="text" class="form-control d-inline" style="width:200px;display:none;margin-left:10px;" placeholder="Which drug?">
          </div>
          <div class="mb-3"><label>Sleep Cycle</label><textarea class="form-control" id="sleepCycle"></textarea></div>
          <div class="mb-3"><label>Hydration</label><textarea class="form-control" id="hydration"></textarea></div>
          <div class="mb-3"><label>Nutrition</label><textarea class="form-control" id="nutrition"></textarea></div>
          <div class="mb-3"><label>Site and Side</label><input class="form-control" id="siteSide"></div>
          <div class="mb-3"><label>Onset</label><input class="form-control" id="onset"></div>
          <div class="mb-3"><label>Duration</label><input class="form-control" id="duration"></div>
          <div class="mb-3"><label>Nature of Injury</label><input class="form-control" id="natureOfInjury"></div>
          <div class="mb-3"><label>Type of Pain</label><input class="form-control" id="typeOfPain"></div>
          <div class="mb-3">
            <label>VAS Scale</label>
            <div style="position: relative; width: 220px;">
              <input type="range" min="1" max="10" id="vasScale" value="1" style="width: 100%;" />
              <span id="vasEmoji" style="position: absolute; top: -28px; left: 0; font-size: 20px;">ðŸ˜¢</span>
            </div>
            <div style="display: flex; justify-content: space-between; font-size: 14px; width: 220px; padding-top: 4px;">
              <span>1</span><span>2</span><span>3</span><span>4</span><span>5</span><span>6</span><span>7</span><span>8</span><span>9</span><span>10</span>
            </div>
          </div>
          <div class="mb-3"><label>Aggravating Factor</label><input class="form-control" id="aggravatingFactor"></div>
          <div class="mb-3"><label>Relieving Factor</label><input class="form-control" id="relievingFactor"></div>
          <button class="btn btn-primary next-button">Next</button>
        </div>

        <!-- Examination tab -->
        <div class="tab-pane fade" id="examination" role="tabpanel" aria-labelledby="examination-tab">
          <h5>On Observation</h5>
          <div class="mb-3"><label>Built</label><input type="text" class="form-control" id="built"></div>
          <div class="mb-3">
            <label>Posture</label><br/>
            <input type="checkbox" id="posture_manual"> Manual 
            <input type="checkbox" id="posture_kinetisense"> Kinetisense 
            <input type="text" class="form-control mt-2" id="posture_manual_text" placeholder="Enter posture manual details" style="display:none;">
            <input type="file" id="posture_kinetisense_file" style="display:none;">
          </div>
          <div class="mb-3">
            <label>GAIT Analysis</label><br/>
            <input type="checkbox" id="gait_manual"> Manual 
            <input type="checkbox" id="gait_optagait"> OptaGAIT 
            <input type="text" class="form-control mt-2" id="gait_manual_text" placeholder="Enter GAIT manual details" style="display:none;">
            <input type="file" id="gait_optagait_file" style="display:none;">
          </div>
          <div class="mb-3"><label>Mobility Aids</label><input type="text" class="form-control" id="mobilityAids"></div>
          <div class="mb-3"><label>Local Observation</label><input type="text" class="form-control" id="localObservation"></div>
          <div class="mb-3"><label>Swelling</label><input type="text" class="form-control" id="swelling"></div>
          <div class="mb-3"><label>Muscle Washing</label><input type="text" class="form-control" id="muscleWashing"></div>
          <h5>On Palpation</h5>
          <div class="mb-3"><label>Tenderness</label><input type="text" class="form-control" id="tenderness"></div>
          <div class="mb-3"><label>Warmth</label><input type="text" class="form-control" id="warmth"></div>
          <div class="mb-3"><label>Scar</label><input type="text" class="form-control" id="scar"></div>
          <div class="mb-3"><label>Crepitus</label><input type="text" class="form-control" id="crepitus"></div>
          <div class="mb-3"><label>Odema</label><input type="text" class="form-control" id="odema"></div>
          <h5>MMT</h5>
          <div class="mb-3">
            <input type="checkbox" id="mmt_manual"> Manual
            <input type="text" class="form-control mt-2" id="mmt_manual_text" placeholder="Enter MMT manual details" style="display:none;">
          </div>
          <div class="mb-3">
            <input type="checkbox" id="mmt_kpush"> K-Push and IKD
            <input type="file" id="mmt_kpush_file" style="display:none;">
          </div>
          <!-- Limb Length -->
          <div class="mb-4" id="limbLengthContainer">
            <h5>Limb Length</h5>
            <label for="limbSelect">Select Limb:</label>
            <select id="limbSelect" class="form-select" style="max-width:200px;display:inline-block;">
              <option value="">--Select--</option>
              <option value="Upper">Upper limb</option>
              <option value="Lower">Lower limb</option>
            </select>
            <div id="limbTableArea" style="margin-top:20px;display:none;">
              <table class="table table-bordered" style="max-width:400px;">
                <thead>
                  <tr>
                    <th></th>
                    <th>TRUE</th>
                    <th>Apparent</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Right</td>
                    <td><input type="text" class="form-control form-control-sm" id="limbRightTrue"></td>
                    <td><input type="text" class="form-control form-control-sm" id="limbRightApparent"></td>
                  </tr>
                  <tr>
                    <td>Left</td>
                    <td><input type="text" class="form-control form-control-sm" id="limbLeftTrue"></td>
                    <td><input type="text" class="form-control form-control-sm" id="limbLeftApparent"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <!-- Muscle Girth -->
          <div class="mb-4" id="muscleGirthContainer">
            <h5>Muscle Girth</h5>
            <label for="girthSelect">Muscle:</label>
            <select id="girthSelect" class="form-select" style="max-width:200px;display:inline-block;">
              <option value="">--Select--</option>
              <option value="Thigh">Thigh</option>
              <option value="Calf">Calf</option>
              <option value="Arm">Arm</option>
              <option value="Forearm">Forearm</option>
            </select>
            <div id="girthTableArea" style="margin-top:16px; display:none;">
              <table class="table table-bordered" style="max-width:300px;">
                <thead>
                  <tr>
                    <th>Right</th>
                    <th>Left</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><input type="text" class="form-control form-control-sm" id="girthRight"></td>
                    <td><input type="text" class="form-control form-control-sm" id="girthLeft"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <button class="btn btn-primary next-button">Next</button>
        </div>

        <!-- Medical tab with ROM and medical fields-->
        <div class="tab-pane fade" id="medical" role="tabpanel" aria-labelledby="medical-tab">
          <div class="mb-3"><label>Previous Injuries</label><textarea class="form-control" id="previousInjuries" rows="2"></textarea></div>
          <div class="mb-3"><label>Surgeries</label><textarea class="form-control" id="surgeries" rows="2"></textarea></div>
          <div class="mb-3"><label>Current Medications</label><textarea class="form-control" id="medications" rows="1"></textarea></div>
          <div class="mb-3"><label>Allergies</label><input type="text" class="form-control" id="allergies"></div>
          <!-- ROM module -->
          <div class="card my-4">
            <div class="card-header bg-primary text-white">
              <strong>Range of Motion (ROM) Assessment</strong>
            </div>
            <div class="card-body">
              <label>Select Joint:&nbsp;
                <select id="romJointSelect" class="form-select d-inline-block" style="width:auto;max-width:220px;">
                  <option value="">--Select Joint--</option>
                  <option value="Neck">Neck (Cervical)</option>
                  <option value="Shoulder">Shoulder</option>
                  <option value="Elbow">Elbow</option>
                  <option value="Forearm">Forearm</option>
                  <option value="Wrist">Wrist</option>
                  <option value="Hip">Hip</option>
                  <option value="Knee">Knee</option>
                  <option value="Ankle">Ankle</option>
                  <option value="Toes">Toes (MTP)</option>
                </select>
                <button type="button" class="btn btn-success btn-sm" id="addRomJointBtn" style="margin-left:12px;">Add</button>
              </label>
              <div id="romTableArea" class="mt-4"></div>
            </div>
          </div>
          <button class="btn btn-primary next-button">Next</button>
        </div>
        <div class="tab-pane fade" id="treatment" role="tabpanel" aria-labelledby="treatment-tab">
          <div class="mb-3"><label>Treatment Modalities</label><textarea class="form-control" id="modalities" rows="2"></textarea></div>
          <div class="mb-3"><label>Exercise Plan</label><textarea class="form-control" id="exercises" rows="2"></textarea></div>
          <div class="mb-3"><label>Sessions Prescribed</label><input type="number" class="form-control" id="sessionsPrescribed"></div>
          <div class="mb-3"><label>Sessions Completed</label><input type="number" class="form-control" id="sessionsCompleted"></div>
          <button class="btn btn-primary next-button">Next</button>
        </div>
        <div class="tab-pane fade" id="progress" role="tabpanel" aria-labelledby="progress-tab">
          <div class="mb-3"><label>Physiotherapist Notes</label><textarea class="form-control" id="physioNotes" rows="3"></textarea></div>
          <div class="mb-3"><label>Patient Experience</label><textarea class="form-control" id="patientExperience" rows="3"></textarea></div>
          <div class="mb-3"><label>Clinical Outcomes</label><textarea class="form-control" id="clinicalOutcomes" rows="3"></textarea></div>
          <div class="mb-3"><label>Return to Play/Work Status</label><input type="text" class="form-control" id="returnToPlay"></div>
          <div class="mb-3"><label>Plan Ahead</label><textarea class="form-control" id="planAhead" rows="2"></textarea></div>
          <button class="btn btn-success" id="saveReportButton">Save Report</button>
          <button class="btn btn-warning" id="sendBillingButton" disabled>Send to Billing</button>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="edit-report.js"></script>
</body>
</html>
